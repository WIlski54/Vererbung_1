<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mendelsche Vererbungsregeln - Interaktives Arbeitsblatt</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #2e7d32 0%, #388e3c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url('header.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.15;
            z-index: 1;
        }
        
        .header h1, .header p {
            position: relative;
            z-index: 2;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .section {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #4caf50;
        }
        
        .section h2 {
            color: #2e7d32;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .info-box {
            background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
            border: 1px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
        }
        
        .rule-box {
            background: linear-gradient(135deg, #fff3e0 0%, #fce4ec 100%);
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(255, 152, 0, 0.3);
        }
        
        .exercise {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1f5fe 100%);
            border: 2px solid #9c27b0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(156, 39, 176, 0.2);
        }
        
        .exercise h3 {
            color: #7b1fa2;
            margin-top: 0;
        }
        
        .question {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border-left: 4px solid #9c27b0;
        }
        
        .options {
            display: grid;
            gap: 10px;
            margin: 10px 0;
        }
        
        .option {
            padding: 12px 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #9c27b0;
            background: #f8f5fd;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.2);
        }
        
        .option.selected {
            background: #e8f5e8;
            border-color: #4caf50;
            color: #2e7d32;
            font-weight: bold;
        }
        
        .option.correct {
            background: #c8e6c9;
            border-color: #4caf50;
            color: #1b5e20;
        }
        
        .option.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
            color: #c62828;
        }
        
        .check-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 15px 10px 10px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(76, 175, 80, 0.4);
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 15px 10px 10px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(255, 152, 0, 0.4);
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
        }
        
        .feedback.correct {
            background: #c8e6c9;
            color: #1b5e20;
            border: 1px solid #4caf50;
        }
        
        .feedback.incorrect {
            background: #ffcdd2;
            color: #c62828;
            border: 1px solid #f44336;
        }
        
        .genotype-input {
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 4px;
            font-size: 16px;
            width: 60px;
            text-align: center;
            font-weight: bold;
        }
        
        .genotype-input:focus {
            outline: none;
            border-color: #9c27b0;
            box-shadow: 0 0 8px rgba(156, 39, 176, 0.3);
        }
        
        .score-display {
            background: linear-gradient(135deg, #3f51b5 0%, #303f9f 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(63, 81, 181, 0.3);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff176 0%, #ffeb3b 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .formula {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            text-align: center;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🧬 Mendelsche Vererbungsregeln 🧬</h1>
        <p>Interaktives Arbeitsblatt für den Biologieunterricht</p>
    </div>

    <div class="score-display">
        <div>Fortschritt: <span id="score">0</span> / <span id="total">8</span> Punkte</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
    </div>

    <div class="section">
        <h2>📚 Theorie: Die Grundlagen der Vererbung</h2>
        
        <div class="info-box">
            <h3>🔬 Mendels Experimente</h3>
            <div style="display: flex; align-items: center; gap: 25px; margin: 20px 0;">
                <img src="Mendel_garten.png" alt="Gregor Mendel bei seinen Experimenten im Klostergarten" style="width: 200px; height: 160px; object-fit: cover; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.15); flex-shrink: 0;">
                <div>
                    <p style="margin: 0;">Gregor Mendel (1822-1884) führte systematische Kreuzungsversuche mit <strong>Erbsen</strong> und später auch mit <strong>Wunderblumen</strong> durch. Diese Experimente bildeten die Grundlage für unser heutiges Verständnis der Vererbung.</p>
                    <p style="font-style: italic; color: #666; margin-top: 8px; font-size: 13px;">→ Mendel bei seinen bahnbrechenden Experimenten im Klostergarten</p>
                </div>
            </div>
            
            <h4>Wichtige Begriffe:</h4>
            <ul>
                <li><span class="highlight">Reinerbig (homozygot)</span>: Beide Allele eines Merkmals sind gleich (AA oder aa)</li>
                <li><span class="highlight">Mischerbig (heterozygot)</span>: Die Allele eines Merkmals sind unterschiedlich (Aa)</li>
                <li><span class="highlight">Dominant</span>: Merkmal setzt sich durch (Großbuchstabe, z.B. R für rot)</li>
                <li><span class="highlight">Rezessiv</span>: Merkmal wird überdeckt (Kleinbuchstabe, z.B. r für weiß)</li>
            </ul>
        </div>

        <div class="rule-box">
            <h3>📜 Die Mendelschen Regeln</h3>
            
            <h4>1. Uniformitätsregel (1. Mendelsche Regel)</h4>
            <p>Kreuzt man zwei reinerbige Lebewesen einer Art miteinander, die sich in einem Merkmal unterscheiden, so sind die Mischlinge der 1. Tochtergeneration in diesem Merkmal alle gleich.</p>
            
            <h4>2. Spaltungsregel (2. Mendelsche Regel)</h4>
            <p>Kreuzt man Mischlinge der 1. Tochtergeneration untereinander, so spalten sich die Nachkommen in einem bestimmten Zahlenverhältnis auf.</p>
            
            <div class="formula">
                Dominanter Erbgang: 3:1 (dominant : rezessiv)<br>
                Intermediärer Erbgang: 1:2:1 (reinerbig : mischerbig : reinerbig)
            </div>
        </div>
    </div>

    <div class="section">
        <h2>🌸 Vergleich: Erbsen vs. Wunderblumen</h2>
        
        <div class="info-box">
            <div style="display: flex; align-items: flex-start; gap: 20px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <h3 style="margin-top: 0;">Erbsen - F1-Generation (Dominanter Erbgang)</h3>
                    <p>Kreuzung: <strong>RR × rr</strong> - reinerbig rote Erbse mit reinerbig weißer Erbse</p>
                    <p><strong>Ergebnis F1:</strong> Alle Nachkommen sind <span class="highlight">Rr</span> und haben rote Blüten, da rot dominant über weiß ist.</p>
                    <ul>
                        <li><strong>Genotyp:</strong> 100% Rr (mischerbig)</li>
                        <li><strong>Phänotyp:</strong> 100% rot</li>
                        <li><strong>Uniformitätsregel:</strong> Alle F1-Nachkommen sind identisch</li>
                    </ul>
                </div>
                <img src="Erbse_1.png" alt="F1-Generation dominanter Erbgang bei Erbsen" style="width: 720px; height: auto; max-width: 50%; object-fit: contain; border-radius: 15px; box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3); border: 3px solid #4caf50; flex-shrink: 0;">
            </div>
        </div>

        <div class="info-box">
            <div style="display: flex; align-items: flex-start; gap: 20px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <h3 style="margin-top: 0;">Wunderblumen - F1-Generation (Intermediärer Erbgang)</h3>
                    <p>Kreuzung: <strong>RR × rr</strong> - reinerbig rote Wunderblume mit reinerbig weißer Wunderblume</p>
                    <p><strong>Ergebnis F1:</strong> Alle Nachkommen sind <span class="highlight">Rr</span> und haben rosa Blüten - eine Mischfarbe aus rot und weiß.</p>
                    <ul>
                        <li><strong>Genotyp:</strong> 100% Rr (mischerbig)</li>
                        <li><strong>Phänotyp:</strong> 100% rosa (Mischfarbe)</li>
                        <li><strong>Uniformitätsregel:</strong> Alle F1-Nachkommen sind identisch</li>
                    </ul>
                </div>
                <img src="Wunderblume_1.png" alt="F1-Generation intermediärer Erbgang bei Wunderblumen" style="width: 720px; height: auto; max-width: 50%; object-fit: contain; border-radius: 15px; box-shadow: 0 8px 25px rgba(156, 39, 176, 0.3); border: 3px solid #9c27b0; flex-shrink: 0;">
            </div>
        </div>
        
        <div class="info-box">
            <div style="display: flex; align-items: flex-start; gap: 20px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <h3 style="margin-top: 0;">Erbsen - F2-Generation (Dominanter Erbgang)</h3>
                    <p>Bei Erbsen ist die rote Blütenfarbe <strong>dominant</strong> über die weiße Blütenfarbe. Das bedeutet:</p>
                    <ul>
                        <li>RR = rot (reinerbig dominant)</li>
                        <li>Rr = rot (mischerbig)</li>
                        <li>rr = weiß (reinerbig rezessiv)</li>
                    </ul>
                    <p><strong>Verhältnis in F₂:</strong> 3 rot : 1 weiß</p>
                </div>
                <img src="dominant.png" alt="Dominanter Erbgang bei Erbsen" style="width: 720px; height: auto; max-width: 50%; object-fit: contain; border-radius: 15px; box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3); border: 3px solid #4caf50; flex-shrink: 0;">
            </div>
        </div>

        <div class="info-box">
            <div style="display: flex; align-items: flex-start; gap: 20px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <h3 style="margin-top: 0;">Wunderblumen - F2-Generation (Intermediärer Erbgang)</h3>
                    <p>Bei Wunderblumen vermischen sich die Farben. Keine Farbe ist dominant:</p>
                    <ul>
                        <li>RR = rot (reinerbig)</li>
                        <li>Rr = rosa (mischerbig - Mischfarbe!)</li>
                        <li>rr = weiß (reinerbig)</li>
                    </ul>
                    <p><strong>Verhältnis in F₂:</strong> 1 rot : 2 rosa : 1 weiß</p>
                </div>
                <img src="intermediaer.png" alt="Intermediärer Erbgang bei Wunderblumen" style="width: 720px; height: auto; max-width: 50%; object-fit: contain; border-radius: 15px; box-shadow: 0 8px 25px rgba(156, 39, 176, 0.3); border: 3px solid #9c27b0; flex-shrink: 0;">
            </div>
        </div>
    </div>

    <div class="section">
        <h2>🧩 Übungen</h2>

        <div class="exercise">
            <h3>Übung 1: Grundbegriffe</h3>
            <div class="question">
                <p><strong>Frage 1:</strong> Was bedeutet "dominant" in der Vererbungslehre?</p>
                <div class="options">
                    <div class="option" data-correct="false">Ein Merkmal, das nur bei männlichen Tieren auftritt</div>
                    <div class="option" data-correct="true">Ein Merkmal, das sich bei mischerbigen Lebewesen durchsetzt</div>
                    <div class="option" data-correct="false">Ein Merkmal, das häufiger vorkommt als andere</div>
                    <div class="option" data-correct="false">Ein Merkmal, das nur in der ersten Generation auftritt</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p><strong>Frage 2:</strong> Welche Genotypen sind mischerbig (heterozygot)?</p>
                <div class="options">
                    <div class="option" data-correct="false">AA und aa</div>
                    <div class="option" data-correct="true">Aa</div>
                    <div class="option" data-correct="false">AA und Aa</div>
                    <div class="option" data-correct="false">aa</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>
        </div>

        <div class="exercise">
            <h3>Übung 2: Dominanter Erbgang (Erbsen)</h3>
            <div class="question">
                <p><strong>Frage 3:</strong> Eine reinerbig rote Erbse (RR) wird mit einer reinerbig weißen Erbse (rr) gekreuzt. Welche Blütenfarbe haben alle Nachkommen der F₁-Generation?</p>
                <div class="options">
                    <div class="option" data-correct="false">Alle weiß</div>
                    <div class="option" data-correct="true">Alle rot</div>
                    <div class="option" data-correct="false">Alle rosa</div>
                    <div class="option" data-correct="false">Halb rot, halb weiß</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p><strong>Frage 4:</strong> Zwei mischerbige rote Erbsen (Rr) werden gekreuzt. Welches Verhältnis ergibt sich in der F₂-Generation?</p>
                <div class="options">
                    <div class="option" data-correct="false">1 rot : 2 rosa : 1 weiß</div>
                    <div class="option" data-correct="true">3 rot : 1 weiß</div>
                    <div class="option" data-correct="false">1 rot : 1 weiß</div>
                    <div class="option" data-correct="false">Alle rot</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>
        </div>

        <div class="exercise">
            <h3>Übung 3: Intermediärer Erbgang (Wunderblumen)</h3>
            <div class="question">
                <p><strong>Frage 5:</strong> Eine reinerbig rote Wunderblume (RR) wird mit einer reinerbig weißen Wunderblume (rr) gekreuzt. Welche Blütenfarbe haben die Nachkommen der F₁-Generation?</p>
                <div class="options">
                    <div class="option" data-correct="false">Alle rot</div>
                    <div class="option" data-correct="false">Alle weiß</div>
                    <div class="option" data-correct="true">Alle rosa</div>
                    <div class="option" data-correct="false">Halb rot, halb weiß</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p><strong>Frage 6:</strong> Zwei rosa Wunderblumen (Rr) werden gekreuzt. Welches Verhältnis ergibt sich in der F₂-Generation?</p>
                <div class="options">
                    <div class="option" data-correct="false">3 rot : 1 weiß</div>
                    <div class="option" data-correct="true">1 rot : 2 rosa : 1 weiß</div>
                    <div class="option" data-correct="false">1 rot : 1 weiß</div>
                    <div class="option" data-correct="false">Alle rosa</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>
        </div>

        <div class="exercise">
            <h3>Übung 4: Punnett-Quadrat vervollständigen</h3>
            <div class="question">
                <p><strong>Aufgabe:</strong> Vervollständige das Punnett-Quadrat für die Kreuzung Rr × Rr (Wunderblumen):</p>
                
                <table style="border-collapse: collapse; margin: 20px 0; background: #e0e0e0; padding: 10px; border-radius: 8px;">
                    <tr>
                        <td style="width: 60px; height: 50px; background: #e0e0e0; border: none;"></td>
                        <td style="width: 80px; height: 50px; background: #4caf50; color: white; text-align: center; font-weight: bold; font-size: 18px; border: 1px solid #ccc; border-radius: 4px;">R</td>
                        <td style="width: 80px; height: 50px; background: #4caf50; color: white; text-align: center; font-weight: bold; font-size: 18px; border: 1px solid #ccc; border-radius: 4px;">r</td>
                    </tr>
                    <tr>
                        <td style="width: 60px; height: 80px; background: #4caf50; color: white; text-align: center; font-weight: bold; font-size: 18px; border: 1px solid #ccc; border-radius: 4px;">R</td>
                        <td style="width: 80px; height: 80px; background: #f8f5fd; text-align: center; border: 1px solid #ccc; border-radius: 4px;">
                            <input type="text" class="genotype-input" data-correct="RR" maxlength="2">
                        </td>
                        <td style="width: 80px; height: 80px; background: #f8f5fd; text-align: center; border: 1px solid #ccc; border-radius: 4px;">
                            <input type="text" class="genotype-input" data-correct="Rr" maxlength="2">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 60px; height: 80px; background: #4caf50; color: white; text-align: center; font-weight: bold; font-size: 18px; border: 1px solid #ccc; border-radius: 4px;">r</td>
                        <td style="width: 80px; height: 80px; background: #f8f5fd; text-align: center; border: 1px solid #ccc; border-radius: 4px;">
                            <input type="text" class="genotype-input" data-correct="Rr" maxlength="2">
                        </td>
                        <td style="width: 80px; height: 80px; background: #f8f5fd; text-align: center; border: 1px solid #ccc; border-radius: 4px;">
                            <input type="text" class="genotype-input" data-correct="rr" maxlength="2">
                        </td>
                    </tr>
                </table>
                
                <button class="check-btn" onclick="checkPunnett(this)">Punnett-Quadrat prüfen</button>
                <button class="reset-btn" onclick="resetPunnett(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>
        </div>

        <div class="exercise">
            <h3>Übung 5: Anwendung</h3>
            <div class="question">
                <p><strong>Frage 7:</strong> Ein Züchter möchte nur rote Erbsen erhalten. Welche Kreuzung sollte er durchführen?</p>
                <div class="options">
                    <div class="option" data-correct="false">Rr × Rr</div>
                    <div class="option" data-correct="true">RR × RR</div>
                    <div class="option" data-correct="false">RR × rr</div>
                    <div class="option" data-correct="false">rr × rr</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>

            <div class="question">
                <p><strong>Frage 8:</strong> Warum sieht man bei Wunderblumen in der F₁-Generation rosa Blüten, bei Erbsen aber keine rosa Blüten?</p>
                <div class="options">
                    <div class="option" data-correct="false">Wunderblumen haben andere Gene als Erbsen</div>
                    <div class="option" data-correct="true">Bei Wunderblumen liegt intermediärer Erbgang vor, bei Erbsen dominanter Erbgang</div>
                    <div class="option" data-correct="false">Wunderblumen sind komplizierter zu züchten</div>
                    <div class="option" data-correct="false">Bei Erbsen ist die Vererbung noch nicht vollständig erforscht</div>
                </div>
                <button class="check-btn" onclick="checkAnswer(this)">Antwort prüfen</button>
                <button class="reset-btn" onclick="resetQuestion(this)">Zurücksetzen</button>
                <div class="feedback"></div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>🎯 Zusammenfassung</h2>
        <div class="info-box">
            <h3>Das Wichtigste auf einen Blick:</h3>
            <ul>
                <li><strong>Uniformitätsregel:</strong> F₁-Generation ist einheitlich</li>
                <li><strong>Spaltungsregel:</strong> F₂-Generation zeigt charakteristische Verhältnisse</li>
                <li><strong>Dominanter Erbgang:</strong> 3:1 Verhältnis (z.B. Erbsen)</li>
                <li><strong>Intermediärer Erbgang:</strong> 1:2:1 Verhältnis (z.B. Wunderblumen)</li>
                <li><strong>Punnett-Quadrat:</strong> Hilfsmittel zur Vorhersage von Kreuzungsergebnissen</li>
            </ul>
        </div>
    </div>

    <script>
        let totalQuestions = 8;
        let correctAnswers = 0;
        
        function checkAnswer(button) {
            const question = button.parentElement;
            const options = question.querySelectorAll('.option');
            const feedback = question.querySelector('.feedback');
            let selected = null;
            let isCorrect = false;
            
            options.forEach(option => {
                if (option.classList.contains('selected')) {
                    selected = option;
                    if (option.dataset.correct === 'true') {
                        isCorrect = true;
                        option.classList.add('correct');
                    } else {
                        option.classList.add('incorrect');
                    }
                }
                
                if (option.dataset.correct === 'true') {
                    option.classList.add('correct');
                }
                
                option.style.pointerEvents = 'none';
            });
            
            if (selected) {
                if (isCorrect) {
                    feedback.textContent = '✅ Richtig! Sehr gut!';
                    feedback.className = 'feedback correct';
                    if (!button.classList.contains('checked')) {
                        correctAnswers++;
                        button.classList.add('checked');
                    }
                } else {
                    feedback.textContent = '❌ Leider falsch. Die richtige Antwort ist markiert.';
                    feedback.className = 'feedback incorrect';
                }
                feedback.style.display = 'block';
                updateScore();
            } else {
                alert('Bitte wähle eine Antwort aus!');
            }
        }
        
        function resetQuestion(button) {
            const question = button.parentElement;
            const options = question.querySelectorAll('.option');
            const feedback = question.querySelector('.feedback');
            const checkBtn = question.querySelector('.check-btn');
            
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.style.pointerEvents = 'auto';
            });
            
            feedback.style.display = 'none';
            if (checkBtn.classList.contains('checked')) {
                correctAnswers--;
                checkBtn.classList.remove('checked');
                updateScore();
            }
        }
        
        function checkPunnett(button) {
            const question = button.parentElement;
            const inputs = question.querySelectorAll('.genotype-input');
            const feedback = question.querySelector('.feedback');
            let allCorrect = true;
            let allFilled = true;
            
            inputs.forEach(input => {
                const value = input.value.trim();
                const correct = input.dataset.correct;
                
                if (value === '') {
                    allFilled = false;
                    input.style.borderColor = '#ff9800';
                    return;
                }
                
                if (value === correct || (correct === 'Rr' && value === 'rR')) {
                    input.style.borderColor = '#4caf50';
                    input.style.background = '#c8e6c9';
                } else {
                    input.style.borderColor = '#f44336';
                    input.style.background = '#ffcdd2';
                    allCorrect = false;
                }
            });
            
            if (!allFilled) {
                feedback.textContent = '⚠️ Bitte fülle alle Felder aus!';
                feedback.className = 'feedback incorrect';
                feedback.style.display = 'block';
            } else if (allCorrect) {
                feedback.textContent = '✅ Perfekt! Das Punnett-Quadrat ist richtig ausgefüllt!';
                feedback.className = 'feedback correct';
                feedback.style.display = 'block';
                if (!button.classList.contains('checked')) {
                    correctAnswers++;
                    button.classList.add('checked');
                    updateScore();
                }
            } else {
                feedback.textContent = '❌ Noch nicht ganz richtig. Versuche es nochmal!';
                feedback.className = 'feedback incorrect';
                feedback.style.display = 'block';
            }
        }
        
        function resetPunnett(button) {
            const question = button.parentElement;
            const inputs = question.querySelectorAll('.genotype-input');
            const feedback = question.querySelector('.feedback');
            const checkBtn = question.querySelector('.check-btn');
            
            inputs.forEach(input => {
                input.value = '';
                input.style.borderColor = '#e0e0e0';
                input.style.background = 'white';
            });
            
            feedback.style.display = 'none';
            if (checkBtn.classList.contains('checked')) {
                correctAnswers--;
                checkBtn.classList.remove('checked');
                updateScore();
            }
        }
        
        function updateScore() {
            document.getElementById('score').textContent = correctAnswers;
            document.getElementById('total').textContent = totalQuestions;
            const percentage = (correctAnswers / totalQuestions) * 100;
            document.getElementById('progress').style.width = percentage + '%';
        }
        
        // Event listeners for option selection
        document.addEventListener('DOMContentLoaded', function() {
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selection from other options in the same question
                    const question = this.closest('.question');
                    const allOptions = question.querySelectorAll('.option');
                    allOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Select this option
                    this.classList.add('selected');
                });
            });
            
            // Initialize score display
            updateScore();
        });
    </script>
</body>
</html>